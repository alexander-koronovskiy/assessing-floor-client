# assessing-floor

Сервис автоматической разметки помещений на плане этажа

## Локальный запуск сервиса:

    python -m venv venv
    source venv/bin/activate
    pip install -r requirements.txt
    python main.py

## Запуск сервиса в Docker контейнере

Системные требования:

    Docker: ^19.03.5
    Используемый пользователь в docker group

Для запуска также можно использовать Docker образ, описание которого
находится в файле Dockerfile.

### Сборка образа в корне проекта:

```
docker-compose up -d
```

## Запуск тестов api:

Для запуска тестов необходим python версии ^3.7.5 с установленной библиотекой pytest.
Пример запуска тестов из корневой папки проекта

    PYTHONPATH=. pytest tests

## HTTP API Reference

Общение с сервером происходит по протоколу HTTP.
Большинство эндпоинтов ожидают запрос в формате JSON.
Для обработки бинарных данных использется формат
multipart/form-data. Рекомендуется указывать соответствующее
поле Content-Type HTTP-заголовка запроса.
ВСЕ ответы сервиса возвращаются в JSON-формате.
ВСЕ принимаемые файлы должны быть изображениями jpg или jpeg расширения.

## Формат ответов
Вне зависимости от успешности выполнения запроса в ответе будет
присутствовать булево поле result.

### Успешный ответ
При успешном выполнении запроса поле result принимает значение
true. 
Все возвращаемые данные будут находиться в поле data.
Если запрос не предполагает наличие возвращаемых значений, то
поле data может отсутствовать.
Каждый успешный ответ сопровождается HTTP-статусом 200.

    {
        "result": true,
        "data": {Object|Array|String}
    }

### Ответ с ошибкой
При возникновении ошибки ответ будет сопровождаться
соответствующим HTTP-статусом. Поле result примет
значение false. Поле data в ответе будет
отсутствовать. Вместо него будет присутствовать
строчное поле error, описывающее возникшую ошибку.

    {
        "result": false,
        "error": {String}
    }

# Проверка доступности ML-сервиса

## [GET] /

Тестовый эндпоинт для проверки доступности и работоспособности сервера

## Ответ

При полной работоспособности сервис вернет следующее сообщение

    {
        "result": true,
        "data": "Welcome to ML service"
    }
